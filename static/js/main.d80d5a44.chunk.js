(this["webpackJsonpmemorama-ant-design"]=this["webpackJsonpmemorama-ant-design"]||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/pokebola.2b4798f5.svg"},139:function(e,t,a){e.exports=a(209)},205:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(16),c=a.n(s),i=(a(144),a(94),a(134)),o=a(24),l=a(210),u=a(214),m=a(116),p=a.n(m),d=l.a.Header,f=l.a.Content,h=l.a.Footer;var v=function(e){return n.a.createElement(l.a,{className:"layout home-content"},n.a.createElement(d,null,n.a.createElement("div",{className:"logo"},n.a.createElement("img",{className:"logo-img",src:p.a,alt:"logo"}),n.a.createElement("h3",{className:"title"},"memorama pokemon "))),n.a.createElement(f,{style:{padding:"0 50px"}},n.a.createElement(u.a,{style:{margin:"16px 0"}},n.a.createElement(u.a.Item,null,"Home"),n.a.createElement(u.a.Item,null,"Game")),n.a.createElement("div",{className:"site-layout-content"},e.children)),n.a.createElement(h,{style:{textAlign:"center"}},"Creado por @AmauryVasquez"))},g=a(76),b=a(86),k=a.n(b),E=a(51),y=a.n(E),C=a(75),x=a(59),j=a(60),w=a(64),N=a(63),O=a(211),S=a(218),U=a(220),L=a(212),D=a(215),z=L.a.Meta,I=function(e){Object(w.a)(a,e);var t=Object(N.a)(a);function a(e){var r;return Object(x.a)(this,a),(r=t.call(this,e)).state={classList:"",pokeData:e.data,callback:e.callback,index:e.index,matched:!1,title:"",description:"",imageUrl:["https://www.kindpng.com/picc/m/366-3667647_thumb-image-pokemon-go-gym-logo-png-transparent.png","https://pokeres.bastionbot.org/images/pokemon/".concat(e.data.id,".png")],activeUrl:"https://www.kindpng.com/picc/m/366-3667647_thumb-image-pokemon-go-gym-logo-png-transparent.png"},r}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(L.a,{hoverable:!0,onClick:function(){e.state.callback(e.state.index)},cover:n.a.createElement(D.a,{className:this.state.classList,src:this.state.activeUrl,alt:this.state.pokeData.name,preview:!1})},n.a.createElement(z,{title:this.state.title,description:""!==this.state.description?"#".concat(this.state.description):"???"}))}}]),a}(n.a.Component),M=function(e){Object(w.a)(a,e);var t=Object(N.a)(a);function a(e){var r;Object(x.a)(this,a),r=t.call(this,e);var n=e.region.limit-e.region.offset;return r.state={loading:!1,error:null,max:n,min:1,pokeCards:{references:[],cards:[]},pokeData:void 0,activeCard:{ref:void 0,id:-1},active:!1,score:0},r}return Object(j.a)(a,[{key:"getData",value:function(){var e=Object(C.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateUrl",value:function(e,t){return"https://pokeapi.co/api/v2/pokemon?offset=".concat(e,"&limit=").concat(t)}},{key:"randomInt",value:function(e,t){return Math.floor(Math.random()*(e-t)+t)}},{key:"randomArray",value:function(e,t,a){for(var r=new Set;r.size<e;)r.add(this.randomInt(t,a));return Array.from(r)}},{key:"fetchData",value:function(){var e=Object(C.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,error:null}),e.prev=1,e.next=4,this.getData(this.generateUrl(this.props.region.offset,this.props.region.limit)).then();case 4:return t=e.sent,e.next=7,this.fetchPokes(t.results).then((function(e){return Promise.all(e)}));case 7:a=e.sent,r=this.createCards(a),this.setState({pokeCards:r,pokeData:a,loading:!1,error:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({loading:!1,error:e.t0});case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPokes",value:function(){var e=Object(C.a)(y.a.mark((function e(t){var a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.map(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData(t.url).catch((function(){return{}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}return e}},{key:"createCards",value:function(e){var t=this,a=this.randomArray(this.props.pokeNumber,this.state.max,this.state.min),r=a.slice();this.shuffle(a);var s=a.concat(r),c=[],i=s.map((function(a,r){var s=n.a.createRef();return c.push(s),n.a.createElement(I,{data:e[a],key:r,callback:t.callback.bind(t),ref:s,index:r})}));return{references:c,cards:i}}},{key:"setClassList",value:function(e){return"active"===e.current.state.classList?"":"active"}},{key:"setUrl",value:function(e){return e.current.state.imageUrl[0]===e.current.state.activeUrl?e.current.state.imageUrl[1]:e.current.state.imageUrl[0]}},{key:"callback",value:function(e){var t=this,a=this.state.pokeCards.references[e],r=a.current.props.data.id,n=a.current.state.matched;if(!n)if(this.state.active){if(this.state.activeCard.ref!==a){var s=this.state.activeCard.ref,c=this.state.activeCard.id,i=this.state.score;c===r?(n=!0,i++,s.current.setState({matched:n}),a.current.setState({classList:this.setClassList(a),activeUrl:this.setUrl(a),matched:n,title:a.current.props.data.name,description:a.current.props.data.id})):(a.current.setState({classList:this.setClassList(a),activeUrl:this.setUrl(a),title:a.current.props.data.name,description:a.current.props.data.id}),setTimeout((function(){s.current.setState({classList:t.setClassList(s),activeUrl:t.setUrl(s),title:"",description:""}),a.current.setState({classList:t.setClassList(a),activeUrl:t.setUrl(a),title:"",description:""})}),1e3)),this.setState({activeCard:{ref:a,id:r},active:!1,score:i})}}else a.current.setState({classList:this.setClassList(a),activeUrl:this.setUrl(a),title:a.current.props.data.name,description:a.current.props.data.id}),this.setState({activeCard:{ref:a,id:r},active:!0})}},{key:"render",value:function(){var e=n.a.createElement(U.a,{style:{fontSize:24},spin:!0});return void 0===this.state.pokeData?n.a.createElement("div",{className:"content"},n.a.createElement(O.a,{size:"large",indicator:e})):n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{className:"player-description",title:"Memorama"},n.a.createElement(S.a.Item,{label:"Jugador"},this.props.name," "),n.a.createElement(S.a.Item,{label:"Puntuaci\xf3n"},this.state.score," "),n.a.createElement(S.a.Item,{label:"Tiempo"})),n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"game-container"},this.state.pokeCards.cards," ")))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){this.state.score===this.props.pokeNumber&&(k.a.fire({icon:"success",title:"Felicidades!",text:"Has ganado",footer:"Ingresa tus datos para jugar de nuevo"}),this.props.callback())}}]),a}(n.a.Component),A=a(216),J=a(217),R=a(55),B=a(221),H=a(67),P=a(46),V=a(213),F=a(219),G=function(e){Object(w.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(x.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={inputValue:5},e.onChange=function(t){e.setState({inputValue:t}),e.props.callback(t)},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.inputValue;return n.a.createElement(H.a,{className:"integer-slider"},n.a.createElement(P.a,{span:12},n.a.createElement(V.a,{min:5,max:24,onChange:this.onChange,value:"number"===typeof e?e:0})),n.a.createElement(P.a,{span:4},n.a.createElement(F.a,{size:"large",min:6,max:24,style:{margin:"0 16px"},value:e,onChange:this.onChange})))}}]),a}(n.a.Component);var T=function(e){var t=e.callback,a=[{region:"Kanto",offset:0,limit:151},{region:"Johto",offset:151,limit:251},{region:"Hoenn",offset:251,limit:386},{region:"Sinnoh",offset:386,limit:493}],r=n.a.createRef(),s=n.a.createRef(),c="",i="",o=6;return n.a.createElement("div",{className:"content"},n.a.createElement(L.a,{className:"selection-card",hoverable:!0,title:"Configuraci\xf3n",bordered:!0,style:{width:400}},n.a.createElement(A.a,{ref:r,addonBefore:"Nombre",className:"input",size:"large",placeholder:"Amaury",prefix:n.a.createElement(B.a,null),onChange:function(e){return i=e.target.value}}),n.a.createElement("p",{className:"selection-label"},"Regi\xf3n"),n.a.createElement(J.a.Group,{ref:s,size:"large",className:"radio",buttonStyle:"solid",onChange:function(e){return c=a.find((function(t){return t.region===e.target.value}))}},a.map((function(e){return n.a.createElement(J.a.Button,{className:"radio-button",value:e.region},e.region)}))),n.a.createElement("p",{className:"selection-label"},"N\xfamero de pokes(6-24) "),n.a.createElement(G,{callback:function(e){return o=e}}),n.a.createElement(R.a,{onClick:function(){t(i,c,o)},block:!0,className:"submit-button",type:"primary",size:"large"},"Jugar!")))};var W=function(){var e=Object(r.useState)(!1),t=Object(g.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(g.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(""),m=Object(g.a)(u,2),p=m[0],d=m[1],f=Object(r.useState)(10),h=Object(g.a)(f,2),v=h[0],b=h[1];return!0===a?n.a.createElement(M,{name:o,region:p,pokeNumber:v,callback:function(){return s(!1)}}):n.a.createElement(T,{callback:function(e,t,a){""===t||""===e?k.a.fire({icon:"error",title:"Error!",text:"Datos de usuario omitidos",footer:"Rellena los datos para empezar el juego"}):(s(!0),l(e),d(t),b(a))}})};a(205);var _=function(){return n.a.createElement(i.a,null,n.a.createElement(v,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/memorama-pokemon",component:W}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){}},[[139,1,2]]]);
//# sourceMappingURL=main.d80d5a44.chunk.js.map