(this["webpackJsonpmemorama-ant-design"]=this["webpackJsonpmemorama-ant-design"]||[]).push([[0],{143:function(e,t,a){e.exports=a(217)},213:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(19),c=a.n(s),i=(a(148),a(96),a(137)),o=a(26),l=a(218),u=a(223),m=a(138),p=l.a.Content,d=l.a.Footer;var h=function(e){return n.a.createElement(l.a,{className:"layout home-content"},n.a.createElement(u.a,{theme:"dark",className:"site-page-header",backIcon:!1,title:"Memorama pokemon"}),n.a.createElement(p,{style:{padding:"0 50px"}},n.a.createElement(m.a,{style:{margin:"16px 0"}},n.a.createElement(m.a.Item,null,"Home"),n.a.createElement(m.a.Item,null,"Game")),n.a.createElement("div",{className:"site-layout-content"},e.children)),n.a.createElement(d,{style:{textAlign:"center"}},"Creado por @AmauryVasquez"))},f=a(77),v=a(88),g=a.n(v),k=a(52),b=a.n(k),E=a(76),y=a(60),C=a(61),j=a(66),x=a(64),w=a(219),O=a(226),N=a(228),S=a(220),U=a(222),L=S.a.Meta,D=function(e){Object(j.a)(a,e);var t=Object(x.a)(a);function a(e){var r;return Object(y.a)(this,a),(r=t.call(this,e)).state={classList:"",pokeData:e.data,callback:e.callback,index:e.index,matched:!1,title:"",description:"",imageUrl:["https://www.kindpng.com/picc/m/366-3667647_thumb-image-pokemon-go-gym-logo-png-transparent.png","https://pokeres.bastionbot.org/images/pokemon/".concat(e.data.id,".png")],activeUrl:"https://www.kindpng.com/picc/m/366-3667647_thumb-image-pokemon-go-gym-logo-png-transparent.png"},r}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(S.a,{hoverable:!0,onClick:function(){e.state.callback(e.state.index)},cover:n.a.createElement(U.a,{className:this.state.classList,src:this.state.activeUrl,alt:this.state.pokeData.name,preview:!1})},n.a.createElement(L,{title:this.state.title,description:""!==this.state.description?"#".concat(this.state.description):"???"}))}}]),a}(n.a.Component),z=function(e){Object(j.a)(a,e);var t=Object(x.a)(a);function a(e){var r;Object(y.a)(this,a),r=t.call(this,e);var n=e.region.limit-e.region.offset;return r.state={loading:!1,error:null,max:n,min:1,pokeCards:{references:[],cards:[]},pokeData:void 0,activeCard:{ref:void 0,id:-1},active:!1,score:0},r}return Object(C.a)(a,[{key:"getData",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateUrl",value:function(e,t){return"https://pokeapi.co/api/v2/pokemon?offset=".concat(e,"&limit=").concat(t)}},{key:"randomInt",value:function(e,t){return Math.floor(Math.random()*(e-t)+t)}},{key:"randomArray",value:function(e,t,a){for(var r=new Set;r.size<e;)r.add(this.randomInt(t,a));return Array.from(r)}},{key:"fetchData",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,error:null}),e.prev=1,e.next=4,this.getData(this.generateUrl(this.props.region.offset,this.props.region.limit)).then();case 4:return t=e.sent,e.next=7,this.fetchPokes(t.results).then((function(e){return Promise.all(e)}));case 7:a=e.sent,r=this.createCards(a),this.setState({pokeCards:r,pokeData:a,loading:!1,error:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({loading:!1,error:e.t0});case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPokes",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.map(function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData(t.url).catch((function(){return{}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}return e}},{key:"createCards",value:function(e){var t=this,a=this.randomArray(this.props.pokeNumber,this.state.max,this.state.min),r=a.slice();this.shuffle(a);var s=a.concat(r),c=[],i=s.map((function(a,r){var s=n.a.createRef();return c.push(s),n.a.createElement(D,{data:e[a],key:r,callback:t.callback.bind(t),ref:s,index:r})}));return{references:c,cards:i}}},{key:"setClassList",value:function(e){return"active"===e.current.state.classList?"":"active"}},{key:"setUrl",value:function(e){return e.current.state.imageUrl[0]===e.current.state.activeUrl?e.current.state.imageUrl[1]:e.current.state.imageUrl[0]}},{key:"callback",value:function(e){var t=this,a=this.state.pokeCards.references[e],r=a.current.props.data.id,n=a.current.state.matched;if(!n)if(this.state.active){if(this.state.activeCard.ref!==a){var s=this.state.activeCard.ref,c=this.state.activeCard.id,i=this.state.score;c===r?(n=!0,i++,s.current.setState({matched:n}),a.current.setState({classList:this.setClassList(a),activeUrl:this.setUrl(a),matched:n,title:a.current.props.data.name,description:a.current.props.data.id})):(a.current.setState({classList:this.setClassList(a),activeUrl:this.setUrl(a),title:a.current.props.data.name,description:a.current.props.data.id}),setTimeout((function(){s.current.setState({classList:t.setClassList(s),activeUrl:t.setUrl(s),title:"",description:""}),a.current.setState({classList:t.setClassList(a),activeUrl:t.setUrl(a),title:"",description:""})}),1e3)),this.setState({activeCard:{ref:a,id:r},active:!1,score:i})}}else a.current.setState({classList:this.setClassList(a),activeUrl:this.setUrl(a),title:a.current.props.data.name,description:a.current.props.data.id}),this.setState({activeCard:{ref:a,id:r},active:!0})}},{key:"render",value:function(){var e=n.a.createElement(N.a,{style:{fontSize:24},spin:!0});return void 0===this.state.pokeData?n.a.createElement("div",{className:"content"},n.a.createElement(w.a,{size:"large",indicator:e})):n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{className:"player-description",title:"Memorama"},n.a.createElement(O.a.Item,{label:"Jugador"},this.props.name," "),n.a.createElement(O.a.Item,{label:"Puntuaci\xf3n"},this.state.score," ")),n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"game-container"},this.state.pokeCards.cards," ")))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){this.state.score===this.props.pokeNumber&&(g.a.fire({icon:"success",title:"Felicidades!",text:"Has ganado",footer:"Ingresa tus datos para jugar de nuevo"}),this.props.callback())}}]),a}(n.a.Component),I=a(224),M=a(225),A=a(56),J=a(229),R=a(69),B=a(46),P=a(221),V=a(227),F=function(e){Object(j.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(y.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={inputValue:5},e.onChange=function(t){e.setState({inputValue:t}),e.props.callback(t)},e}return Object(C.a)(a,[{key:"render",value:function(){var e=this.state.inputValue;return n.a.createElement(R.a,{className:"integer-slider"},n.a.createElement(B.a,{span:12},n.a.createElement(P.a,{min:5,max:24,onChange:this.onChange,value:"number"===typeof e?e:0})),n.a.createElement(B.a,{span:4},n.a.createElement(V.a,{size:"large",min:6,max:24,style:{margin:"0 16px"},value:e,onChange:this.onChange})))}}]),a}(n.a.Component);var H=function(e){var t=e.callback,a=[{region:"Kanto",offset:0,limit:151},{region:"Johto",offset:151,limit:251},{region:"Hoenn",offset:251,limit:386},{region:"Sinnoh",offset:386,limit:493}],r=n.a.createRef(),s=n.a.createRef(),c="",i="",o=6;return n.a.createElement("div",{className:"content"},n.a.createElement(S.a,{className:"selection-card",hoverable:!0,title:"Configuraci\xf3n",bordered:!0,style:{width:400}},n.a.createElement(I.a,{ref:r,addonBefore:"Nombre",className:"input",size:"large",placeholder:"Amaury",prefix:n.a.createElement(J.a,null),onChange:function(e){return i=e.target.value}}),n.a.createElement("p",{className:"selection-label"},"Regi\xf3n"),n.a.createElement(M.a.Group,{ref:s,size:"large",className:"radio",buttonStyle:"solid",onChange:function(e){return c=a.find((function(t){return t.region===e.target.value}))}},a.map((function(e){return n.a.createElement(M.a.Button,{className:"radio-button",value:e.region},e.region)}))),n.a.createElement("p",{className:"selection-label"},"N\xfamero de pokes(6-24) "),n.a.createElement(F,{callback:function(e){return o=e}}),n.a.createElement(A.a,{onClick:function(){t(i,c,o)},block:!0,className:"submit-button",type:"primary",size:"large"},"Jugar!")))};var G=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(f.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(""),m=Object(f.a)(u,2),p=m[0],d=m[1],h=Object(r.useState)(10),v=Object(f.a)(h,2),k=v[0],b=v[1];return!0===a?n.a.createElement(z,{name:o,region:p,pokeNumber:k,callback:function(){return s(!1)}}):n.a.createElement(H,{callback:function(e,t,a){""===t||""===e?g.a.fire({icon:"error",title:"Error!",text:"Datos de usuario omitidos",footer:"Rellena los datos para empezar el juego"}):(s(!0),l(e),d(t),b(a))}})};a(213);var W=function(){return n.a.createElement(i.a,null,n.a.createElement(h,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/memorama-pokemon",component:G}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){}},[[143,1,2]]]);
//# sourceMappingURL=main.3e72c32d.chunk.js.map